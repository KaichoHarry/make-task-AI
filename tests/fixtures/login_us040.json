{
    "domain": "Human Resources & Time Management",
    "persona": "Corporate Employee",
    "action": "I want to accurately apply for paid leave, special leave, or absences online",
    "reason": "To prevent missed records and approval errors caused by paper or verbal applications, and to ensure appropriate labor management",
    "acceptance_criteria": [
        "Leave application is only executable by authenticated users.",
        "Applicable leave types (paid leave, half-day leave, special leave, absence, etc.) are configurable via the management screen.",
        "Start date, end date, type, and reason are mandatory inputs for leave applications.",
        "The date format follows ISO 8601.",
        "The application fails if the start date is after the end date.",
        "Permission to apply for past dates is controllable via settings.",
        "Applications exceeding the remaining number of paid leave days result in an error.",
        "Remaining days calculation subtracts only approved leave.",
        "Concurrent update conflicts for remaining days are detected at the time of application (optimistic locking).",
        "Leave applications are processed within a transaction.",
        "Application status is restricted to Pending / Approved / Rejected.",
        "The initial status is set to Pending.",
        "Only roles with approval authority can perform approval operations.",
        "The approver ID and approval timestamp are stored upon approval.",
        "Reason input is mandatory for rejections.",
        "Status change history is maintained.",
        "History includes states before and after the change, the operating user, and the timestamp.",
        "The approval process supports multi-stage approval flows.",
        "In multi-stage approval, the process proceeds to the next stage only after the previous stage is completed.",
        "Leave is reflected in the attendance calendar upon completion of approval.",
        "Calendar reflection processing is executed via an asynchronous queue.",
        "Parameterized queries are used as SQL injection countermeasures.",
        "Input values are sanitized (Anti-XSS).",
        "The same validation applies to applications via API.",
        "Viewing other users' application data is prohibited (permission check).",
        "Supervisors can only view the applications of their subordinates.",
        "Application cancellation is only possible in the Pending state.",
        "Cancellation after approval is only possible for administrators.",
        "History logs are maintained even for cancellations.",
        "Leave data is linkable with the payroll system.",
        "The integration API uses authenticated communication.",
        "Communication is mandatory via HTTPS.",
        "Rate limiting is applied to the API.",
        "Target response time for the API is within 300ms.",
        "A notification event is issued upon successful application.",
        "Notifications are also issued upon approval or rejection.",
        "Notifications are processed via an asynchronous queue.",
        "Audit logs are stored.",
        "Audit logs are stored in tamper-evident storage.",
        "Internal information is not included in the response when an error occurs.",
        "The API is REST-compliant.",
        "API versioning is managed."
    ]
}