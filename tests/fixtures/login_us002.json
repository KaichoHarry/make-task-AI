{
    "domain": "Customer Relationship Management",
    "persona": "Corporate Sales Representative",
    "action": "I want to register new customer information accurately and safely",
    "reason": "To manage customer info centrally, improve sales efficiency, and prevent data leakage",
    "acceptance_criteria": [
        "Customer registration is only possible for authenticated users.",
        "Only roles with registration permissions can register customers.",
        "Customer IDs are automatically numbered and unique.",
        "Customer name is a required field.",
        "Maximum length for customer name is 100 characters.",
        "Customer names must be sanitized (Anti-XSS).",
        "Email address format check must be implemented.",
        "Email addresses can be set to non-duplicate within the customer table.",
        "Phone number must be in numeric format validation.",
        "Support phone number formats including country codes.",
        "Addresses are managed in multiple fields (Country/Prefecture/City/Address).",
        "Use parameterized queries/ORM against SQL injection.",
        "Registration process must be completed within a DB transaction.",
        "Registration fails if required items are not entered.",
        "Registration fails if invalid data types are entered.",
        "Same validation applies when registering via API.",
        "Store logs for successful customer registration.",
        "Store error logs for failed customer registration.",
        "Logs must include the operating User ID.",
        "Registration date and time are automatically recorded.",
        "Updated date and time field must exist.",
        "Customer information can be logically deleted.",
        "Deletion is only possible for administrator roles.",
        "Audit logs must be stored upon deletion.",
        "Personal information is stored in encrypted storage.",
        "Communication must be via HTTPS.",
        "Internal DB information is not included in API responses.",
        "Rate limiting is applied to the registration API.",
        "Detect concurrent registration conflicts for the same customer data.",
        "Concurrent registration fails via optimistic locking mechanism.",
        "Change history for customer data is maintained.",
        "Change history stores values before and after the change.",
        "Separate user-facing error messages from internal system logs.",
        "Target response time for registration API is within 300ms.",
        "Input data is unified in UTF-8 character code.",
        "Same checks apply during CSV import processes.",
        "CSV import is controlled by batch transactions.",
        "Invalid CSV data rows are skipped and logged properly.",
        "A notification event is issued upon successful customer registration.",
        "Notifications are processed via asynchronous queues.",
        "API must be REST-compliant.",
        "API versioning is managed.",
        "Audit logs are stored in tamper-evident storage."
    ]
}