[
    {
        "domain": "sales-report-generation",
        "persona": "corporate-manager",
        "action": "I want to generate sales reports filtered by period and representative",
        "reason": "Because I need accurate numerical data for management decisions and progress tracking",
        "acceptance_criteria": [
            "The system shall allow only authenticated users with specific reporting privileges to generate sales reports.",
            "The system must validate that the start and end dates are present, follow ISO-8601 format, and that the start date is not later than the end date.",
            "The system shall support filtering data by specific sales representatives and departments.",
            "The system must automatically calculate total sales, applying configured rules for tax inclusion/exclusion, currency, and rounding.",
            "The system shall use parameterized queries for all database retrieval operations to prevent SQL injection.",
            "The system must ensure data consistency during aggregation using database transactions or equivalent isolation levels.",
            "The system shall support exporting reports in CSV (UTF-8 encoding) and PDF formats without layout distortion.",
            "The system must process large data exports asynchronously via background jobs and notify the user upon completion.",
            "The system shall maintain an export history log containing the User ID, search criteria, and timestamp.",
            "The system must enforce row-level security to prevent users from accessing data belonging to other departments unless authorized.",
            "The system shall apply masking to Personally Identifiable Information (PII) based on configuration settings.",
            "The system must enforce HTTPS (TLS 1.2+) and shall not expose internal error details in API responses.",
            "The system shall implement timeout controls for report generation and log any failures for auditing.",
            "The system must generate an immutable audit log for all operations and store it in tamper-evident storage.",
            "The system shall enforce rate limiting on the report API to prevent resource exhaustion.",
            "The system must provide a RESTful API with version control for report generation.",
            "The system shall generate a hash value of the report results to verify data integrity and prevent tampering.",
            "The system must detect data inconsistencies during aggregation and trigger an alert if discrepancies are found.",
            "The system shall allow administrators to edit report templates via a management interface.",
            "The system shall target an API response time of under 1 second for initiating the report generation process."
        ]
    }
]